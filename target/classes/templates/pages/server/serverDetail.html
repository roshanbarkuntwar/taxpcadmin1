<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout" th:with="title='Hello, template'">

<th:block layout:fragment="content">
	<link href="./static/stylesheets/importantUrl/importantUrl.css"
		rel="stylesheet" />
	<link href="./static/stylesheets/dashboard/dashboard-new.css"
		rel="stylesheet" />
	<link href="./static/stylesheets/dashboard/dashboard.css"
		rel="stylesheet" />

	<div class="right-section">
		<div class="header-gap"></div>
		<div class="header-gap"></div>
		<div class="tab-section col-md-12">
			<ul class="nav nav-pills">
				<li class="nav-item mr-5"><a class="nav-link active"
					data-toggle="pill" href="#"><p>Server Dashboard</p> </a></li>
			</ul>
			<div class="clearfix"></div>
		</div>

		<div class="tab-content form-wrapper px-4 py-4">
			<form id="serverForm" th:object="${dataGridDTO}">
				<div class="col-lg-col-xl-">
					<input type="hidden" id="radio_btn" th:value="${server_type}"> 
					<!-- <input type="radio" name="btn" id="ALL"  value="ALL" onclick="serachByServerType(this.id)" checked><label>All Servers</label> -->
					<input type="radio" name="btn" id="PHY"  value="PHY" onclick="serachByServerType(this.id)"><label>Physical Server</label>
					<input type="radio" name="btn" id="APS" value="APS" onclick="serachByServerType(this.id)"><label>Application Server</label> 
					<input type="radio" name="btn" id="DBS" value="DBS" onclick="serachByServerType(this.id)"><label>Database Server</label>
				</div>

				<!-- <input type="hidden" th:value="${dataGridDTO.filter.filterFlag}" name="filterFlag" id="filterFlag" />  -->
				<input type="hidden"
					th:value="${dataGridDTO.paginator.totalRecords}"
					name="paginator.totalRecords" id="totalRecords" /> <input
					type="hidden" th:value="${dataGridDTO.paginator.totalPages}"
					name="paginator.totalPages" id="totalPages" /> <input
					type="hidden" th:value="${dataGridDTO.paginator.recordsPerPage}"
					name="paginator.recordsPerPage" id="recordsPerPage" /> <input
					type="hidden" th:value="${dataGridDTO.paginator.dataGridAction}"
					name="paginator.dataGridAction" id="dataGridAction" /> <input
					type="hidden" th:value="${dataGridDTO.paginator.pageNumber}"
					name="paginator.pageNumber" id="pageNumber" /> <input
					type="hidden" id="action" name="action" th:value="${action}" />
					
			</form>
			<div th:replace="fragments/paginator/paginatorTop :: getPaginatorTop"></div>
			<div
				th:replace="fragments/paginator/paginatorSettings :: getPaginatorSettings"></div>
			<!-------------------------->
			<div th:fragment="ajaxServerList">
				<div id="dataSpan">
					<div class="card-body">
						<div class="row pt-3">
							<div class="col-md-4" th:each="item ,index_count: ${serverGrid}">
								<div class="media p-3 kpi bg-white">
								 
								<input type="hidden"
											th:id="'parent_server11-'+${index_count.count}"
											th:value="${item.server_id}"> 
										<input type="hidden" id="totalrecordsgrid"
										th:value="${dataGridDTO1.paginator.totalRecords}">
									<input type="hidden" id="totalPagesgrid"
										th:value="${dataGridDTO1.paginator.totalPages}">
									<input type="hidden" id="pageNumbergrid"
										th:value="${dataGridDTO1.paginator.pageNumber}">
									<input type="hidden" id="recordsPerPageSelectgrid"
										th:value="${dataGridDTO1.paginator.recordsPerPage}">	
											
									<div
										class="kpi-icon position-relative mx-3 d-flex align-self-center justify-content-center align-items-center">
										
										 <img th:if="${(item.server_type_code == null) }" th:src=" './static/images/db_logo.jpg' " th:title= "${'Physical Server' }" style="height: 50px; width: 50px"> 
										<img th:if="${(item.server_type_code == 'DBS') }" th:src=" './static/images/Oracle logo.jpg' " th:title= "${'Database Server' }" style="height: 50px; width: 50px">
										<img th:if="${(item.server_type_code == 'APS') && item.app_server_name=='' }" th:src=" './static/images/app_logo.png' " th:title= "${'Application Server' }" style="height: 50px; width: 50px">
										<img th:if="${(item.server_type_code == 'APS') && item.app_server_name=='WBL' }" th:src=" './static/images/weblogic.jpg' " th:title= "${'Application Server' }" style="height: 50px; width: 50px">
										<img th:if="${(item.server_type_code == 'APS') && item.app_server_name=='JBS' }" th:src=" './static/images/Jboss.png' "  th:title= "${'Application Server' }" style="height: 50px; width: 50px">
										<img th:if="${(item.server_type_code == 'APS') && item.app_server_name=='TMC' }" th:src=" './static/images/tomcat.png' " th:title= "${'Application Server' }" style="height: 50px; width: 50px">
											
									</div>
									
									
										
										
									<div class="media-body text-muted">
									<input type="hidden" th:id="server_type_code_edit" th:value="${item.server_type_code}"> 
								 <input type="hidden" th:id="configuration_type1" th:value="${item.configuration_type}"> 
										<div class="tag-name"></div>
										<span th:text="${'' + item.tag_name}"
											style="font-weight: bold;" title="Tag Name"></span> <span title="Edit"
											th:attr="onclick=|editServerDetails('${item.server_id}'+'-'+'${item.server_type_code}')|">
											<i class="fa fa-pencil edit-button "
											style="background-color: #14de9b; color: #fff; padding: 2px 2px; border-radius: 5px"></i>
										</span> <span
											th:attr="onclick=|deleteServerDetails('${item.server_id}')|">
											<i class="fa fa-trash delete-button"
											style="background-color: #ef4009; color: #fff; padding: 2px 2px; border-radius: 5px"
											title="Delete"></i>
										</span>
										<div class="clearfix"></div>
										<span th:text="${'Server Owner :- ' + item.server_owner_name}"></span>
										<div class="clearfix"></div>
										<span th:text="${'Local IP :- ' + item.server_ip}"></span>
										<div class="clearfix"></div>
										<span th:text="${'Public IP :- ' + item.public_ip}"></span>
										<div class="clearfix"></div>
										<span th:text="${'Host Name :- ' + item.host_name}"></span>
										<div class="clearfix"></div>
										<div class="clearfix"></div>
									</div>
									<div class="float-right">
										<input type="hidden"
											th:id="'server_type_code-'+${index_count.count}"
											th:value="${item.server_type_code}"> 
											<input
											type="hidden" th:id="'server_id11-'+${index_count.count}"
											th:value="${item.server_id}">
										 <!-- 	<input
											type="hidden" id="type_code1"
											value="${item.server_type_code}"> -->
											
										<div title="Expand to get app server(s) info."
											class="server-detail" data-toggle="collapse" data-target=""
											th:id="'server_id-'+${index_count.count}"
											th:value="${item.server_id}" onclick="getServerData(this.id)">
											<i class="fa fa-angle-down"></i>
										</div>
									</div> 
									<div class="clearfix"></div>
								</div>

								<!-- dropdown table  -->
								<div class="card-footer collapse"
									th:id="'displayAppServerDiv_'+${index_count.count}"
									style="display: none;">
									<div class="" th:id="'tableContent_'+${index_count.count}"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	
	<script type="text/javascript"
		src="./static/js/server details/serverDetails.js"></script>
		
	<script type="text/javascript" src="./static/js/global/lhs/lhsGlobal.js"></script>
	
	<script type="text/javascript">
		loadDataUsingPaginator('serverForm');
	</script>
	
		
	<script>
		onLoadRadioButton();
	</script>
</th:block>